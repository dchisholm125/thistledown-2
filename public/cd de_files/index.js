!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.BamVideoExtension=e():t.BamVideoExtension=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=100)}([function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(1),i=n(0),o=n(9),s=n(11),u=n(13),a=function(t,e,n){var c,f,l,h=t&a.F,p=t&a.G,d=t&a.S,v=t&a.P,_=t&a.B,y=t&a.W,E=p?i:i[e]||(i[e]={}),g=E.prototype,m=p?r:d?r[e]:(r[e]||{}).prototype;for(c in p&&(n=e),n)(f=!h&&m&&void 0!==m[c])&&u(E,c)||(l=f?m[c]:n[c],E[c]=p&&"function"!=typeof m[c]?n[c]:_&&f?o(l,r):y&&m[c]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):v&&"function"==typeof l?o(Function.call,l):l,v&&((E.virtual||(E.virtual={}))[c]=l,t&a.R&&g&&!g[c]&&s(g,c,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e,n){var r=n(48)("wks"),i=n(34),o=n(1).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(7),i=n(70),o=n(51),s=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(15)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(26);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(84),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){var r=n(5),i=n(27);t.exports=n(6)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(44);t.exports=function(t){return Object(r(t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(45),i=n(44);t.exports=function(t){return r(i(t))}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){t.exports={default:n(124),__esModule:!0}},function(t,e,n){"use strict";var r=n(108)(!0);n(53)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e){t.exports={}},function(t,e,n){t.exports={default:n(121),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(85),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(140)),i=s(n(144)),o=s(n(85));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(69),i=n(49);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){t.exports={default:n(107),__esModule:!0}},function(t,e,n){var r=n(5).f,i=n(13),o=n(3)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){n(111);for(var r=n(1),i=n(11),o=n(18),s=n(3)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<u.length;a++){var c=u[a],f=r[c],l=f&&f.prototype;l&&!l[s]&&i(l,s,c),o[c]=o.Array}},function(t,e,n){var r=n(9),i=n(75),o=n(76),s=n(7),u=n(33),a=n(55),c={},f={};(e=t.exports=function(t,e,n,l,h){var p,d,v,_,y=h?function(){return t}:a(t),E=r(n,l,e?2:1),g=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(p=u(t.length);p>g;g++)if((_=e?E(s(d=t[g])[0],d[1]):E(t[g]))===c||_===f)return _}else for(v=y.call(t);!(d=v.next()).done;)if((_=i(v,E,d.value,e))===c||_===f)return _}).BREAK=c,e.RETURN=f},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(16)),i=o(n(137));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,o){null===e&&(e=Function.prototype);var s=(0,i.default)(e,n);if(void 0===s){var u=(0,r.default)(e);return null===u?void 0:t(u,n,o)}if("value"in s)return s.value;var a=s.get;return void 0!==a?a.call(o):void 0}},function(t,e,n){var r=n(46),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(2),i=n(0),o=n(15);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},function(t,e,n){var r=n(7),i=n(110),o=n(49),s=n(47)("IE_PROTO"),u=function(){},a=function(){var t,e=n(50)("iframe"),r=o.length;for(e.style.display="none",n(72).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;r--;)delete a.prototype[o[r]];return a()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[s]=t):n=a(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(24),i=n(3)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(34)("meta"),i=n(4),o=n(13),s=n(5).f,u=0,a=Object.isExtensible||function(){return!0},c=!n(15)((function(){return a(Object.preventExtensions({}))})),f=function(t){s(t,r,{value:{i:"O"+ ++u,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!a(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!a(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return c&&l.NEED&&a(t)&&!o(t,r)&&f(t),t}}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(8)),i=o(n(10));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,r.default)(this,t)}return(0,i.default)(t,null,[{key:"logError",value:function(){var t;navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")||(t=console).error.apply(t,arguments)}},{key:"isRequired",value:function(){throw new Error("Missing required param")}},{key:"validateTimestamp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/.test(t)}}]),t}();e.default=s,t.exports=e.default},function(t,e,n){var r=n(94)(Object,"create");t.exports=r},function(t,e,n){var r=n(192);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(198);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(24);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(48)("keys"),i=n(34);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(0),i=n(1),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(25)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(4),i=n(1).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){},function(t,e,n){"use strict";var r=n(25),i=n(2),o=n(71),s=n(11),u=n(18),a=n(109),c=n(29),f=n(73),l=n(3)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,_,y){a(n,e,d);var E,g,m,b=function(t){if(!h&&t in D)return D[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},A=e+" Iterator",S="values"==v,P=!1,D=t.prototype,O=D[l]||D["@@iterator"]||v&&D[v],T=O||b(v),w=v?S?b("entries"):T:void 0,R="Array"==e&&D.entries||O;if(R&&(m=f(R.call(new t)))!==Object.prototype&&m.next&&(c(m,A,!0),r||"function"==typeof m[l]||s(m,l,p)),S&&O&&"values"!==O.name&&(P=!0,T=function(){return O.call(this)}),r&&!y||!h&&!P&&D[l]||s(D,l,T),u[e]=T,u[A]=p,v)if(E={values:S?T:b("values"),keys:_?T:b("keys"),entries:w},y)for(g in E)g in D||o(D,g,E[g]);else i(i.P+i.F*(h||P),e,E);return E}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(37),i=n(3)("iterator"),o=n(18);t.exports=n(0).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(26);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(11);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){e.f=n(3)},function(t,e,n){var r=n(1),i=n(0),o=n(25),s=n(59),u=n(5).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:s.f(t)})}},function(t,e,n){var r=n(39),i=n(27),o=n(14),s=n(51),u=n(13),a=n(70),c=Object.getOwnPropertyDescriptor;e.f=n(6)?c:function(t,e){if(t=o(t),e=s(e,!0),a)try{return c(t,e)}catch(t){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){(function(r){var i;!function(o){var s="undefined"!=typeof window?window:void 0!==r?r:this;void 0===(i=function(){return function(t){var e=document;if(t.MessageChannel)var n=MessageChannel;else{function n(){this.port1=e.createElement("div")}n.prototype={port1:null,port2:null}}return n}(s)}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(22))},function(t,e,n){(function(r){var i;!function(o){var s=void 0!==typeof window?window:void 0!==typeof r?r:this;void 0===(i=function(){return function(t){var e={bubbles:!1,cancelable:!1},n=t.document;function r(){this.store={}}r.prototype={get:function(t){return this.store[(t||"").toString()]},set:function(t,e){this.store[(t||"").toString()]=e},has:function(t){return(t||"").toString()in this.store},delete:function(t){delete this.store[(t||"").toString()]},forEach:function(t,e){var n,r=this.store;for(n in r)t.call(e||this,r[n],n,this)}};var i=t.Map||r;function o(t,e,n,r,i){this.scope=t,this.originalConsumer=e,this.name=i,n&&(this.handleEvent=this.handleEventOnce,this.topics=r)}o.prototype={handleEvent:function(t){return this.originalConsumer.call(this.scope,t.data,t)},handleEventOnce:function(t){return c(this.scope,this.topics,this.name,this.originalConsumer),this.originalConsumer.call(this.scope,t.data,t)}};var s=u.createEvent="function"==typeof CustomEvent?function(t,n){var r=new CustomEvent(t,e);return r.originalType=n||t,r}:function(t,r){var i=n.createEvent("Events");return i.initEvent(t,e.bubbles,e.cancelable),i.originalType=r||t,i};function u(t,e){this.name=t,this.consumers=new i,this.consumerCount=0,this.hub=e}function a(t,e,n){for(var r=0,i=t.length,o=this.hub,s=this.name;r<i;r++)o.removeEventListener(s,t[r],!1,!0);n.delete(e)}function c(t,e,n,r){var i=e[n];i&&r&&(i.removeConsumer(t,r),i.consumerCount<=0&&delete e[n])}return u.prototype.publish=function(t,e){var n=s(this.name,e);n.data=t,this.hub.dispatchEvent(n)},u.prototype.addConsumer=function(t,e,n,r){var i=e,s=this.hub,u=this.consumers.get(i),a=new o(t,e,n,r,this.name);u?this.removeConsumer(t,e):u=[],u.push(a),this.consumerCount++,this.consumers.set(i,u),s.addEventListener(this.name,a,!1,!0)},u.prototype.removeConsumer=function(t,e){var n,r=e,i=this.consumers.get(r),o=this.name;if(i)for(var s=i.length,u=0;u<s;u++)if((n=i[u]).originalConsumer===e&&(!t||n.scope===t)){this.hub.removeEventListener(o,n,!1,!0),i.splice(u,1),i.length||this.consumers.delete(r),this.consumerCount--;break}},u.prototype.removeAllConsumers=function(){var t=this.consumers;this.name;t.forEach(a,this),this.consumerCount=0},u.publishTopic=function(t,e,n){return t&&t.publish(e,n)},u.addTopicListener=function(t,e,n,r,i,o){if(!i)throw new Error("message-service : no listener specified for topic : "+r);(n[r]||(n[r]=new u(r,e))).addConsumer(t,i,o,n)},u.removeTopicListener=c,u.removeAllTopicListeners=function(t,e){var n=t[e];n&&(n.removeAllConsumers(),delete t[e])},u}(s)}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(22))},function(t,e,n){var r=n(165);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(93),i=n(171);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(68).Symbol;t.exports=r},function(t,e,n){var r=n(168),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r=n(13),i=n(14),o=n(105)(!1),s=n(47)("IE_PROTO");t.exports=function(t,e){var n,u=i(t),a=0,c=[];for(n in u)n!=s&&r(u,n)&&c.push(n);for(;e.length>a;)r(u,n=e[a++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){t.exports=!n(6)&&!n(15)((function(){return 7!=Object.defineProperty(n(50)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){t.exports=n(11)},function(t,e,n){var r=n(1).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(13),i=n(12),o=n(47)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(7);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(18),i=n(3)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(7),i=n(26),o=n(3)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r,i,o,s=n(9),u=n(114),a=n(72),c=n(50),f=n(1),l=f.process,h=f.setImmediate,p=f.clearImmediate,d=f.MessageChannel,v=f.Dispatch,_=0,y={},E=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},g=function(t){E.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++_]=function(){u("function"==typeof t?t:Function(t),e)},r(_),_},p=function(t){delete y[t]},"process"==n(24)(l)?r=function(t){l.nextTick(s(E,t,1))}:v&&v.now?r=function(t){v.now(s(E,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=g,r=s(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(t){a.appendChild(c("script")).onreadystatechange=function(){a.removeChild(this),E.call(t)}}:function(t){setTimeout(s(E,t,1),0)}),t.exports={set:h,clear:p}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(7),i=n(4),o=n(56);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(1),i=n(0),o=n(5),s=n(6),u=n(3)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];s&&e&&!e[u]&&o.f(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(3)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){t.exports={default:n(119),__esModule:!0}},function(t,e,n){t.exports={default:n(126),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(128)),i=s(n(130)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===o(r.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,e,n){var r=n(24);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(69),i=n(49).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){t.exports={default:n(148),__esModule:!0}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r,i,o;i=[n(162)],void 0===(o="function"==typeof(r=function(t){"use strict";var e,n={global:{}},r={};function i(){o()}var o=function(){};return i.prototype={registerEvents:function(t,e){t?n[t]?this.merge(e,t):n[t]=e:this.merge(e,t)},merge:function(t,e){for(var r in t)t.hasOwnProperty(r)&&(n[e||"global"][r]=t[r])},deleteEventsByKey:function(t){t&&n[t]?delete n[t]:console.log("bandwagon: specified namespace does not exist in events cache to delete",t)},getRegisteredEvents:function(){return n},getRegisteredEventsByKey:function(t){var e;return t&&n[t]?e=n[t]:console.log("please provide valid event key you want to retrieve from the events cache",t),e},getInstanceByKey:function(e){return e&&!r[e]?r[e]=t.create():r[e]},getInstancesAvailable:function(){return r},deleteInstanceByKey:function(t){t&&r[t]?delete r[t]:console.log("bandwagon: specified key does not exist in cache to delete",t)}},e=e||new i})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(28)),i=v(n(19)),o=v(n(16)),s=v(n(8)),u=v(n(10)),a=v(n(20)),c=v(n(32)),f=v(n(21)),l=v(n(92)),h=v(n(64)),p=v(n(96)),d=n(40);function v(t){return t&&t.__esModule?t:{default:t}}var _=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,o.default)(e)).call(this));return n.customProps={},n.singlePlayerMode=!1,n.autoPlay=!0,n.playlist=null,n.autoAdvance=!1,n.loopPlaylist=!1,n.language={ui:(0,h.default)(t,"language.ui","en"),audio:(0,h.default)(t,"language.audio","en")},n.auth={},(0,i.default)(n,t),n.setContainer(),n.setId(),n.setDispatcher(),n}return(0,f.default)(e,t),(0,u.default)(e,[{key:"testOptions",value:function(){if((0,c.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"testOptions",this).call(this),l.default.not.array.of.boolean([this.singlePlayerMode,this.autoPlay,this.loopPlaylist,this.autoAdvance]))throw new Error("These values: :\n                singlePlayerMode: "+this.singlePlayerMode+",\n                autoPlay: "+this.autoPlay+",\n                loopPlaylist: "+this.loopPlaylist+"\n                autoAdvance: "+this.autoAdvance+",\n                should be Boolean");if(l.default.not.object(this.playlist)&&l.default.not.array(this.playlist))throw new Error("playlist must be entered as an Object or Array")}},{key:"insert",value:function(){var t=this,e=document.createElement("iframe");return e.classList.add("embed-player__iframe"),e.src=this.baseUrl+"#id="+this.id,e.setAttribute("allowFullScreen",!0),e.setAttribute("allow","autoplay"),e.id=this.id,this.container.appendChild(e),this.container.classList.add("syndicated-player-container"),new r.default((function(n,r){var o=(0,i.default)({id:t.id,autoPlay:t.autoPlay,playlist:t.playlist,singlePlayerMode:t.singlePlayerMode,eventWhiteList:t.getEventWhiteListFromMap(),autoAdvance:t.autoAdvance,language:t.language,loopPlaylist:t.loopPlaylist,auth:t.auth,tracking:t.tracking},t.customProps);t.dispatcher.one(t.events.get("EMBED_PLAYER_READY"),(function(e){e.selector=t.selector,e.success?n(e):r(e)})),t.dispatcher.openChannel(e.contentWindow,t.id,o)})).catch((function(e){return(0,d.logError)("Syndicated Player Error :: insert :: player["+t.selector+"]",e),r.default.reject(e)}))}},{key:"delete",value:function(){return this.container.parentNode.removeChild(this.container),this.dispatcher.closeChannel(),r.default.resolve(this.selector)}},{key:"pause",value:function(){var t=this;return new r.default((function(e,n){t.dispatcher.one(t.events.get("MEDIA_PAUSED"),(function(r){r.selector=t.selector,r.success?e(r):n(r)})),t.dispatcher.publish(t.events.get("SYNDICATED_PLAYER_PAUSE"))})).catch((function(e){return(0,d.logError)("Syndicated Player Error :: pause :: player["+t.selector+"]",e),r.default.reject(e)}))}},{key:"play",value:function(){var t=this;return new r.default((function(e,n){t.dispatcher.one(t.events.get("MEDIA_RESUME"),(function(r){r.selector=t.selector,r.success?e(r):n(r)})),t.dispatcher.publish(t.events.get("SYNDICATED_PLAYER_PLAY"))})).catch((function(e){return(0,d.logError)("Syndicated Player Error :: play :: player["+t.selector+"]",e),r.default.reject(e)}))}},{key:"mute",value:function(){var t=this;return new r.default((function(e,n){t.dispatcher.one(t.events.get("MEDIA_MUTE"),(function(r){r.selector=t.selector,r.success?e(r):n(r)})),t.dispatcher.publish(t.events.get("SYNDICATED_PLAYER_MUTE"))})).catch((function(e){return(0,d.logError)("Syndicated Player Error :: mute :: player["+t.selector+"]",e),r.default.reject(e)}))}},{key:"unmute",value:function(){var t=this;return new r.default((function(e,n){t.dispatcher.one(t.events.get("MEDIA_UNMUTE"),(function(r){r.selector=t.selector,r.success?e(r):n(r)})),t.dispatcher.publish(t.events.get("SYNDICATED_PLAYER_UNMUTE"))})).catch((function(e){return(0,d.logError)("Syndicated Player Error :: unmute :: player["+t.selector+"]",e),r.default.reject(e)}))}},{key:"getConfigs",value:function(){var t=this;return new r.default((function(e,n){t.dispatcher.one(t.events.get("PLAYER_CONFIGS_RETURNED"),(function(r){r.selector=t.selector,r.success?e(r):n(r)})),t.dispatcher.publish(t.events.get("SYNDICATED_PLAYER_GET_CONFIGS"))})).catch((function(e){return(0,d.logError)("Syndicated Player Error :: getConfigs :: player["+t.selector+"]",e),r.default.reject(e)}))}},{key:"updateConfigs",value:function(t){var e=this;return new r.default((function(n,r){e.dispatcher.one(e.events.get("PLAYER_CONFIGS_UPDATED"),(function(t){t.selector=e.selector,t.success?n(t):r(t)})),e.dispatcher.publish(e.events.get("SYNDICATED_PLAYER_UPDATE_CONFIGS"),t)})).catch((function(t){return(0,d.logError)("Syndicated Player Error :: updateConfigs :: player["+e.selector+"]",t),r.default.reject(t)}))}},{key:"initListeners",value:function(){var t=this;this.dispatcher.on(this.events.get("MEDIA_RESUME"),(function(){t.eventBus.publish(t.events.get("MEDIA_RESUME"),t.selector)})),this.dispatcher.on(this.events.get("MEDIA_PAUSED"),(function(){t.eventBus.publish(t.events.get("MEDIA_PAUSED"),t.selector)})),this.dispatcher.on(this.events.get("MEDIA_MUTE"),(function(){t.eventBus.publish(t.events.get("MEDIA_MUTE"),t.selector)})),this.dispatcher.on(this.events.get("MEDIA_UNMUTE"),(function(){t.eventBus.publish(t.events.get("MEDIA_UNMUTE"),t.selector)})),this.dispatcher.on(this.events.get("EMBED_PLAYER_READY"),(function(){t.eventBus.publish(t.events.get("EMBED_PLAYER_READY"),t.selector)})),this.dispatcher.on(this.events.get("PLAYER_CONFIGS_RETURNED"),(function(e){t.eventBus.publish(t.events.get("PLAYER_CONFIGS_RETURNED"),e)})),this.dispatcher.on(this.events.get("PLAYER_CONFIGS_UPDATED"),(function(e){t.eventBus.publish(t.events.get("PLAYER_CONFIGS_UPDATED"),e)}))}}]),e}(p.default);e.default=_,t.exports=e.default},function(t,e,n){var r;!function(i){"use strict";var o,s,u,a,c,f,l,h,p,d,v,_,y;function E(t){return null!=t}function g(t){return"number"==typeof t&&t>d&&t<v}function m(t){return"number"==typeof t&&t%1==0}function b(t,e){return g(t)&&t>e}function A(t,e){return g(t)&&t<e}function S(t,e){return g(t)&&t>=e}function P(t,e){return g(t)&&t<=e}function D(t){return"string"==typeof t}function O(t){return D(t)&&""!==t}function T(t){return"[object Object]"===Object.prototype.toString.call(t)}function w(t,e){try{return t instanceof e}catch(t){return!1}}function R(t,e){var n;for(n in e)if(e.hasOwnProperty(n)){if(!1===t.hasOwnProperty(n)||typeof t[n]!=typeof e[n])return!1;if(T(t[n])&&!1===R(t[n],e[n]))return!1}return!0}function M(t){return _(t)}function C(t){return E(t)&&S(t.length,0)}function I(t){return"function"==typeof t}function x(t,e){var n={};return Object.keys(e).forEach((function(r){var i=e[r];I(i)?f.assigned(t)?n[r]=!!i.m:n[r]=i(t[r]):T(i)&&(n[r]=x(t[r],i))})),n}function L(t,e){var n;for(n=0;n<t.length;n+=1)if(t[n]===e)return e;return!e}function N(t,e){var n,r;for(n in t)if(t.hasOwnProperty(n)){if(T(r=t[n])&&N(r,e)===e)return e;if(r===e)return e}return!e}function k(t,e){return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function j(t,e){return function(){return Y(t,arguments,e)}}function Y(t,e,n){var r=t.l||t.length,i=e[r],o=e[r+1];return U(t.apply(null,e),O(i)?i:n,I(o)?o:TypeError),e[0]}function U(t,e,n){if(t)return t;throw new(n||Error)(e||"Assertion failed")}function B(t){var e=function(){return F(t.apply(null,arguments))};return e.l=t.length,e}function F(t){return!t}function G(t,e,n){var r=function(){var r,i;if(r=arguments[0],"maybe"===t&&f.assigned(r))return!0;if(!e(r))return!1;r=H(e,r),i=p.call(arguments,1);try{r.forEach((function(e){if(("maybe"!==t||E(e))&&!n.apply(null,[e].concat(i)))throw 0}))}catch(t){return!1}return!0};return r.l=n.length,r}function H(t,e){switch(t){case C:return p.call(e);case T:return Object.keys(e).map((function(t){return e[t]}));default:return e}}function K(t,e){return V([t,u,e])}function V(t){var e,n,r,i;return e=t.shift(),n=t.pop(),r=t.pop(),i=n||{},Object.keys(r).forEach((function(n){Object.defineProperty(i,n,{configurable:!1,enumerable:!0,writable:!1,value:e.apply(null,t.concat(r[n],s[n]))})})),i}function W(t,e){return V([t,e,null])}function q(t,e){h.forEach((function(n){t[n].of=W(e,u[n].of)}))}o={v:"value",n:"number",s:"string",b:"boolean",o:"object",t:"type",a:"array",al:"array-like",i:"iterable",d:"date",f:"function",l:"length"},s={},u={},[{n:"equal",f:function(t,e){return t===e},s:"v"},{n:"undefined",f:function(t){return void 0===t},s:"v"},{n:"null",f:function(t){return null===t},s:"v"},{n:"assigned",f:E,s:"v"},{n:"primitive",f:function(t){var e;switch(t){case null:case void 0:case!1:case!0:return!0}return"string"===(e=typeof t)||"number"===e||y&&"symbol"===e},s:"v"},{n:"includes",f:function(t,e){var n,r,i,o,s;if(!E(t))return!1;if(y&&t[Symbol.iterator]&&I(t.values)){n=t.values();do{if((r=n.next()).value===e)return!0}while(!r.done);return!1}for(i=Object.keys(t),o=i.length,s=0;s<o;++s)if(t[i[s]]===e)return!0;return!1},s:"v"},{n:"zero",f:function(t){return 0===t}},{n:"infinity",f:function(t){return t===d||t===v}},{n:"number",f:g},{n:"integer",f:m},{n:"even",f:function(t){return"number"==typeof t&&t%2==0}},{n:"odd",f:function(t){return m(t)&&t%2!=0}},{n:"greater",f:b},{n:"less",f:A},{n:"between",f:function(t,e,n){if(e<n)return b(t,e)&&t<n;return A(t,e)&&t>n}},{n:"greaterOrEqual",f:S},{n:"lessOrEqual",f:P},{n:"inRange",f:function(t,e,n){if(e<n)return S(t,e)&&t<=n;return P(t,e)&&t>=n}},{n:"positive",f:function(t){return b(t,0)}},{n:"negative",f:function(t){return A(t,0)}},{n:"string",f:D,s:"s"},{n:"emptyString",f:function(t){return""===t},s:"s"},{n:"nonEmptyString",f:O,s:"s"},{n:"contains",f:function(t,e){return D(t)&&-1!==t.indexOf(e)},s:"s"},{n:"match",f:function(t,e){return D(t)&&!!t.match(e)},s:"s"},{n:"boolean",f:function(t){return!1===t||!0===t},s:"b"},{n:"object",f:T,s:"o"},{n:"emptyObject",f:function(t){return T(t)&&0===Object.keys(t).length},s:"o"},{n:"nonEmptyObject",f:function(t){return T(t)&&Object.keys(t).length>0},s:"o"},{n:"instanceStrict",f:w,s:"t"},{n:"instance",f:function(t,e){try{return w(t,e)||t.constructor.name===e.name||Object.prototype.toString.call(t)==="[object "+e.name+"]"}catch(t){return!1}},s:"t"},{n:"like",f:R,s:"t"},{n:"array",f:M,s:"a"},{n:"emptyArray",f:function(t){return M(t)&&0===t.length},s:"a"},{n:"nonEmptyArray",f:function(t){return M(t)&&b(t.length,0)},s:"a"},{n:"arrayLike",f:C,s:"al"},{n:"iterable",f:function(t){if(!y)return C(t);return E(t)&&I(t[Symbol.iterator])},s:"i"},{n:"date",f:function(t){return w(t,Date)&&m(t.getTime())},s:"d"},{n:"function",f:I,s:"f"},{n:"hasLength",f:function(t,e){return E(t)&&t.length===e},s:"l"}].map((function(t){var e=t.n;s[e]="Invalid "+o[t.s||"n"],u[e]=t.f})),a={apply:function(t,e){if(c.array(t),I(e))return t.map((function(t){return e(t)}));return c.array(e),c.hasLength(t,e.length),t.map((function(t,n){return e[n](t)}))},map:function(t,e){if(c.object(t),I(e))return function(t,e){var n={};return Object.keys(t).forEach((function(r){n[r]=e(t[r])})),n}(t,e);return c.object(e),x(t,e)},all:function(t){if(M(t))return L(t,!1);return c.object(t),N(t,!1)},any:function(t){if(M(t))return L(t,!0);return c.object(t),N(t,!0)}},h=["array","arrayLike","iterable","object"],p=Array.prototype.slice,d=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,_=Array.isArray,y="function"==typeof Symbol,a=k(a,u),c=K(j,U),f=K(B,F),l=K((function(t){var e=function(){return!!f.assigned(arguments[0])||t.apply(null,arguments)};return e.l=t.length,e.m=!0,e}),(function(t){if(!1===E(t))return!0;return t})),c.not=W(j,f),c.maybe=W(j,l),h.forEach((function(t){u[t].of=V([G.bind(null,null),u[t],u,null])})),q(c,j),q(f,B),h.forEach((function(t){l[t].of=V([G.bind(null,"maybe"),u[t],u,null]),c.maybe[t].of=W(j,l[t].of),c.not[t].of=W(j,f[t].of)})),function(i){void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}(k(a,{assert:c,not:f,maybe:l}))}()},function(t,e,n){var r=n(67),i=n(169),o=n(170),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(179),i=n(184);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(206)),i=l(n(19)),o=l(n(207)),s=l(n(214)),u=l(n(8)),a=l(n(10)),c=l(n(90)),f=l(n(92));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){(0,u.default)(this,t),this.eventBus=null,this.baseUrl=null,this.selector="",this.config={},this.customProps={},this.showLogs=!1,this.tracking={},this.analytics={},this.customProps={}}return(0,a.default)(t,[{key:"setId",value:function(){this.id="btm_activity_"+(new Date).getTime().toString(36)}},{key:"setDispatcher",value:function(){try{this.dispatcher=c.default.getInstanceByKey(this.id)}catch(t){throw new Error("Bandwagon instance creation via id: "+this.selector+", was unsuccessful")}}},{key:"setContainer",value:function(){if(this.container=document.querySelector(this.selector),!this.container)throw new Error(this.selector+" did not match an element on the page")}},{key:"testOptions",value:function(){if(f.default.not.array.of.string([this.baseUrl,this.selector]))throw new Error("baseUrl, selector must be strings");if(f.default.not.array.of.object([this.eventBus,this.tracking,this.analytics]))throw new Error("eventBus: "+this.eventBus+", tracking: "+this.tracking+", analytics: "+this.analytics+" should be an object");if(f.default.not.array.of.boolean([this.showLogs]))throw new Error("These values: :\n                showLogs: "+this.showLogs+"\n                should be Boolean");if(f.default.null(this.events))throw new Error("You should be passing the event map into this Activity class");if("#"!==this.selector.charAt(0))throw new Error("your selector, "+this.selector+" should be an ID formatted like: #some-element");if(!this.container)throw new Error(this.selector+" did not match an element on the page")}},{key:"getEventWhiteListFromMap",value:function(){return(0,s.default)(this.events).reduce((function(t,e){var n=(0,o.default)(e,2),s=n[0],u=n[1];return(0,i.default)(t,(0,r.default)({},s,u))}),{})}}]),t}();e.default=h,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(28)),i=l(n(19)),o=l(n(16)),s=l(n(8)),u=l(n(10)),a=l(n(20)),c=l(n(32)),f=l(n(21));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,o.default)(e)).call(this));return n.path="",n.auth={},n.requests=[],(0,i.default)(n,t),n.setContainer(),n.setId(),n.setDispatcher(),n}return(0,f.default)(e,t),(0,u.default)(e,[{key:"testOptions",value:function(){(0,c.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"testOptions",this).call(this)}},{key:"insert",value:function(){var t=this,e=document.createElement("iframe");return e.classList.add("embed-player__iframe"),e.src=this.baseUrl+"#id="+this.id,e.id=this.id,this.container.appendChild(e),this.container.classList.add("account-iframe-container"),new r.default((function(n,r){var o=(0,i.default)({id:t.id,eventWhiteList:t.getEventWhiteListFromMap(),redirectUrl:t.redirectUrl,analytics:t.analytics,isPromo:t.isPromo,tracking:t.tracking,auth:t.auth,requests:t.requests},t.customProps);t.dispatcher.openChannel(e.contentWindow,t.id,o)})).catch((function(e){console.error("Syndicated Player Error :: insert :: player["+t.selector+"]",e)}))}},{key:"delete",value:function(){return this.container.parentNode.removeChild(this.container),this.dispatcher.closeChannel(),r.default.resolve(this.selector)}},{key:"initListeners",value:function(){var t=this;this.dispatcher.on(this.events.get("EMBED_PLAYER_READY"),(function(){t.eventBus.publish(t.events.get("EMBED_PLAYER_READY"),t.selector)})),this.dispatcher.on(this.events.get("AUTHORIZE_USER"),(function(e){t.eventBus.publish(t.events.get("AUTHORIZE_USER"),e)})),this.dispatcher.on(this.events.get("GEOLOCATION_READY"),(function(e){t.eventBus.publish(t.events.get("GEOLOCATION_READY"),e)})),this.dispatcher.on(this.events.get("SUBSCRIPTIONS_READY"),(function(e){t.eventBus.publish(t.events.get("SUBSCRIPTIONS_READY"),e)})),this.dispatcher.on(this.events.get("LOGIN_REQUESTED"),(function(e){t.eventBus.publish(t.events.get("LOGIN_REQUESTED"),e)})),this.dispatcher.on(this.events.get("URL_REDIRECT"),(function(t){t.body&&t.body.redirectUrl&&document&&document.location&&document.location.replace(t.body.redirectUrl)}))}}]),e}(l(n(96)).default);e.default=h,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(88)),i=s(n(8)),o=s(n(10));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){(0,i.default)(this,t),this._events=new r.default,this._events.set("MEDIA_PAUSED","__media_app_media_paused"),this._events.set("MEDIA_RESUME","__media_app_media_resume"),this._events.set("MEDIA_MUTE","__media_app_media_mute"),this._events.set("MEDIA_UNMUTE","__media_app_media_unmute"),this._events.set("EMBED_PLAYER_READY","__media_app_embed_player_ready"),this._events.set("PLAYLIST_ITEM_ADDED","__media_app_playlist_item_added"),this._events.set("PLAYLIST_ITEM_REMOVED","__media_app_playlist_item_removed"),this._events.set("PLAYLIST_CLEAR","__media_app_playlist_clear"),this._events.set("PLAYLIST_NEXT","__media_app_playlist_next"),this._events.set("PLAYLIST_PREVIOUS","__media_app_playlist_previous"),this._events.set("PLAYER_CONFIGS_RETURNED","__media_app_player_configs_returned"),this._events.set("PLAYER_CONFIGS_UPDATED","__media_app_player_configs_updated"),this._events.set("SYNDICATED_PLAYER_MUTE","__syndicated_player_mute"),this._events.set("SYNDICATED_PLAYER_UNMUTE","__syndicated_player_unmute"),this._events.set("SYNDICATED_PLAYER_PLAY","__syndicated_player_play"),this._events.set("SYNDICATED_PLAYER_PAUSE","__syndicated_player_pause"),this._events.set("SYNDICATED_PLAYER_ADD_TO_PLAYLIST","__syndicated_player_add_to_playlist"),this._events.set("SYNDICATED_PLAYER_REMOVE_FROM_PLAYLIST","__syndicated_player_remove_from_playlist"),this._events.set("SYNDICATED_PLAYER_CLEAR_PLAYLIST","__syndicated_player_clear_playlist"),this._events.set("SYNDICATED_PLAYER_PLAYLIST_NEXT","__syndicated_player_playlist_next"),this._events.set("SYNDICATED_PLAYER_PLAYLIST_PREVIOUS","__syndicated_player_playlist_previous"),this._events.set("SYNDICATED_PLAYER_GET_CONFIGS","__syndicated_player_get_configs"),this._events.set("SYNDICATED_PLAYER_UPDATE_CONFIGS","__syndicated_player_update_configs")}return(0,o.default)(t,[{key:"events",get:function(){return this._events}}]),t}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={warnOnMissingShareUrl:function(t){t&&t.forEach&&t.length&&t.forEach((function(t,e){t&&!t.shareUrl&&console.error("Expected shareUrl to exist on playlist at index "+e+" - item",t)}))}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(101),o=(r=i)&&r.__esModule?r:{default:r};window.btmDebug={content:{},syndicatedPlayerConfigs:{}},e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(102)),i=g(n(28)),o=g(n(83)),s=g(n(19)),u=g(n(16)),a=g(n(8)),c=g(n(10)),f=g(n(20)),l=g(n(32)),h=g(n(21)),p=n(40),d=g(n(147)),v=g(n(218)),_=g(n(219)),y=g(n(220)),E=n(99);function g(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t){(0,a.default)(this,e);var n=(0,f.default)(this,(e.__proto__||(0,u.default)(e)).call(this,t));return n._Player=_.default,n._Account=y.default,n._events=(new v.default).events,n}return(0,h.default)(e,t),(0,c.default)(e,[{key:"createPlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.isRequired)(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._savedInitOptions=n;var r=n.playlist;return(0,E.warnOnMissingShareUrl)(r),(0,l.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"createPlayer",this).call(this,t,n)}},{key:"loadMedia",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.isRequired)(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getPlayer(t).loadMedia(e)}},{key:"deactivatePlayer",value:function(t){return this.getPlayer(t).deactivatePlayer()}},{key:"destroyPlayer",value:function(t){return this.getPlayer(t).destroyPlayer()}},{key:"changeFeed",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[n.customVideoProps&&n.customVideoProps.playlistItem],i=(0,s.default)({playlist:r},n),o=(0,s.default)({},n.customProps);return this._safariWorkAround(t,i,(function(){return e.getPlayer(t).changeFeed(n)}),"SYNDICATED_PLAYER_CHANGE_FEED",o)}},{key:"createAccountIframe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.players.get(t))throw new Error("An iframe with id: "+t+" already exists!");var n=window.btmDebug.syndicatedPlayerConfigs||{};e.selector=t,e.eventBus=this.eventBus,e.environment=this.environment,e.events=this.events,e.tracking=(0,s.default)({},this.tracking,e.tracking);var r=(0,o.default)(new this._Account(e));return this.players.set(r.selector,r),n[t]=e,i.default.resolve(r.selector)}},{key:"createSDKWrapper",value:function(t,n){var r=this,i={section:"sdkData",path:"/",auth:n.auth,requests:n.requests};return this.createAccountIframe(t,i).then((function(t){(0,l.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"insertPlayer",r)?(0,l.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"insertPlayer",r).call(r,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})):console.error("you are using a deprecated API version")})).catch((function(t){console.error(t)}))}},{key:"renderPaywall",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=void 0,a=function(t){return(0,r.default)(t).map((function(e){return"om-"+e+"="+t[e]})).join("&")},c=function(t){var e=t.sdkConfigHostName;return e?"&sdkConfigHostName="+e:""};if(i.customProps.paywallV2)o=function(){return"?"+a(i.analytics)+c(i.customProps)};else{var f=function(){return i.isPromo?"/promo/true":i.eventId?"/event/"+i.eventId:i.id?"/stream/"+i.id:""};o=function(){return i.analytics?f()+"?"+a(i.analytics):f()}}var h={section:"paywall",path:o(),auth:i.auth};return h=(0,s.default)(h,i),this.createAccountIframe(t,h).then((function(t){(0,l.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"insertPlayer",n)?(0,l.default)(e.prototype.__proto__||(0,u.default)(e.prototype),"insertPlayer",n).call(n,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})):console.error("you are using a deprecated API version")})).catch((function(t){console.error(t)}))}},{key:"sendContentReward",value:function(t,e,n,r,o){var s=this;return new i.default((function(i,u){var a={rewardToken:e,contentId:n,action:r,recommendedContentIds:o},c=s.getPlayer(t);c.dispatcher.one(s.events.get("CONTENT_REWARD_RECORDED"),(function(t){s.eventBus.publish(s.events.get("CONTENT_REWARD_RECORDED"),t),t.success?i(t):u(t)})),c.dispatcher.publish(s.events.get("SEND_CONTENT_REWARD"),a)}))}},{key:"getAccountStatus",value:function(t){var e=this;return new i.default((function(n,r){var i=e.getPlayer(t);i.dispatcher.one(e.events.get("USER_ACCOUNT_RECEIVED"),(function(t){e.eventBus.publish(e.events.get("USER_ACCOUNT_RECEIVED"),t),t.success?n(t):r(t)})),i.dispatcher.publish(e.events.get("USER_ACCOUNT_REQUEST"))}))}}]),e}(d.default);e.default=m,t.exports=e.default},function(t,e,n){t.exports={default:n(103),__esModule:!0}},function(t,e,n){n(104),t.exports=n(0).Object.keys},function(t,e,n){var r=n(12),i=n(23);n(35)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){var r=n(14),i=n(33),o=n(106);t.exports=function(t){return function(e,n,s){var u,a=r(e),c=i(a.length),f=o(s,c);if(t&&n!=n){for(;c>f;)if((u=a[f++])!=u)return!0}else for(;c>f;f++)if((t||f in a)&&a[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(46),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){n(52),n(17),n(30),n(113),n(117),n(118),t.exports=n(0).Promise},function(t,e,n){var r=n(46),i=n(44);t.exports=function(t){return function(e,n){var o,s,u=String(i(e)),a=r(n),c=u.length;return a<0||a>=c?t?"":void 0:(o=u.charCodeAt(a))<55296||o>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?t?u.charAt(a):o:t?u.slice(a,a+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(36),i=n(27),o=n(29),s={};n(11)(s,n(3)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(5),i=n(7),o=n(23);t.exports=n(6)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),u=s.length,a=0;u>a;)r.f(t,n=s[a++],e[n]);return t}},function(t,e,n){"use strict";var r=n(112),i=n(74),o=n(18),s=n(14);t.exports=n(53)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var r,i,o,s,u=n(25),a=n(1),c=n(9),f=n(37),l=n(2),h=n(4),p=n(26),d=n(54),v=n(31),_=n(77),y=n(78).set,E=n(115)(),g=n(56),m=n(79),b=n(116),A=n(80),S=a.TypeError,P=a.process,D=P&&P.versions,O=D&&D.v8||"",T=a.Promise,w="process"==f(P),R=function(){},M=i=g.f,C=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(3)("species")]=function(t){t(R,R)};return(w||"function"==typeof PromiseRejectionEvent)&&t.then(R)instanceof e&&0!==O.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},x=function(t,e){if(!t._n){t._n=!0;var n=t._c;E((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,u=i?e.ok:e.fail,a=e.resolve,c=e.reject,f=e.domain;try{u?(i||(2==t._h&&k(t),t._h=1),!0===u?n=r:(f&&f.enter(),n=u(r),f&&(f.exit(),s=!0)),n===e.promise?c(S("Promise-chain cycle")):(o=I(n))?o.call(n,a,c):a(n)):c(r)}catch(t){f&&!s&&f.exit(),c(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&L(t)}))}},L=function(t){y.call(a,(function(){var e,n,r,i=t._v,o=N(t);if(o&&(e=m((function(){w?P.emit("unhandledRejection",i,t):(n=a.onunhandledrejection)?n({promise:t,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=w||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},k=function(t){y.call(a,(function(){var e;w?P.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})}))},j=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),x(e,!0))},Y=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=I(t))?E((function(){var r={_w:n,_d:!1};try{e.call(t,c(Y,r,1),c(j,r,1))}catch(t){j.call(r,t)}})):(n._v=t,n._s=1,x(n,!1))}catch(t){j.call({_w:n,_d:!1},t)}}};C||(T=function(t){d(this,T,"Promise","_h"),p(t),r.call(this);try{t(c(Y,this,1),c(j,this,1))}catch(t){j.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(57)(T.prototype,{then:function(t,e){var n=M(_(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=w?P.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&x(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(Y,t,1),this.reject=c(j,t,1)},g.f=M=function(t){return t===T||t===s?new o(t):i(t)}),l(l.G+l.W+l.F*!C,{Promise:T}),n(29)(T,"Promise"),n(81)("Promise"),s=n(0).Promise,l(l.S+l.F*!C,"Promise",{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(u||!C),"Promise",{resolve:function(t){return A(u&&this===s?T:this,t)}}),l(l.S+l.F*!(C&&n(82)((function(t){T.all(t).catch(R)}))),"Promise",{all:function(t){var e=this,n=M(e),r=n.resolve,i=n.reject,o=m((function(){var n=[],o=0,s=1;v(t,!1,(function(t){var u=o++,a=!1;n.push(void 0),s++,e.resolve(t).then((function(t){a||(a=!0,n[u]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=M(e),r=n.reject,i=m((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(1),i=n(78).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,u=r.Promise,a="process"==n(24)(s);t.exports=function(){var t,e,n,c=function(){var r,i;for(a&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(a)n=function(){s.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var f=u.resolve(void 0);n=function(){f.then(c)}}else n=function(){i.call(r,c)};else{var l=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=l=!l}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(1).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(2),i=n(0),o=n(1),s=n(77),u=n(80);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){"use strict";var r=n(2),i=n(56),o=n(79);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){n(120),t.exports=n(0).Object.freeze},function(t,e,n){var r=n(4),i=n(38).onFreeze;n(35)("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){n(122),t.exports=n(0).Object.assign},function(t,e,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(123)})},function(t,e,n){"use strict";var r=n(6),i=n(23),o=n(58),s=n(39),u=n(12),a=n(45),c=Object.assign;t.exports=!c||n(15)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=u(t),c=arguments.length,f=1,l=o.f,h=s.f;c>f;)for(var p,d=a(arguments[f++]),v=l?i(d).concat(l(d)):i(d),_=v.length,y=0;_>y;)p=v[y++],r&&!h.call(d,p)||(n[p]=d[p]);return n}:c},function(t,e,n){n(125),t.exports=n(0).Object.getPrototypeOf},function(t,e,n){var r=n(12),i=n(73);n(35)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,e,n){n(127);var r=n(0).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(2);r(r.S+r.F*!n(6),"Object",{defineProperty:n(5).f})},function(t,e,n){t.exports={default:n(129),__esModule:!0}},function(t,e,n){n(17),n(30),t.exports=n(59).f("iterator")},function(t,e,n){t.exports={default:n(131),__esModule:!0}},function(t,e,n){n(132),n(52),n(135),n(136),t.exports=n(0).Symbol},function(t,e,n){"use strict";var r=n(1),i=n(13),o=n(6),s=n(2),u=n(71),a=n(38).KEY,c=n(15),f=n(48),l=n(29),h=n(34),p=n(3),d=n(59),v=n(60),_=n(133),y=n(86),E=n(7),g=n(4),m=n(12),b=n(14),A=n(51),S=n(27),P=n(36),D=n(134),O=n(61),T=n(58),w=n(5),R=n(23),M=O.f,C=w.f,I=D.f,x=r.Symbol,L=r.JSON,N=L&&L.stringify,k=p("_hidden"),j=p("toPrimitive"),Y={}.propertyIsEnumerable,U=f("symbol-registry"),B=f("symbols"),F=f("op-symbols"),G=Object.prototype,H="function"==typeof x&&!!T.f,K=r.QObject,V=!K||!K.prototype||!K.prototype.findChild,W=o&&c((function(){return 7!=P(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=M(G,e);r&&delete G[e],C(t,e,n),r&&t!==G&&C(G,e,r)}:C,q=function(t){var e=B[t]=P(x.prototype);return e._k=t,e},z=H&&"symbol"==typeof x.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof x},Q=function(t,e,n){return t===G&&Q(F,e,n),E(t),e=A(e,!0),E(n),i(B,e)?(n.enumerable?(i(t,k)&&t[k][e]&&(t[k][e]=!1),n=P(n,{enumerable:S(0,!1)})):(i(t,k)||C(t,k,S(1,{})),t[k][e]=!0),W(t,e,n)):C(t,e,n)},Z=function(t,e){E(t);for(var n,r=_(e=b(e)),i=0,o=r.length;o>i;)Q(t,n=r[i++],e[n]);return t},$=function(t){var e=Y.call(this,t=A(t,!0));return!(this===G&&i(B,t)&&!i(F,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,k)&&this[k][t])||e)},J=function(t,e){if(t=b(t),e=A(e,!0),t!==G||!i(B,e)||i(F,e)){var n=M(t,e);return!n||!i(B,e)||i(t,k)&&t[k][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=I(b(t)),r=[],o=0;n.length>o;)i(B,e=n[o++])||e==k||e==a||r.push(e);return r},tt=function(t){for(var e,n=t===G,r=I(n?F:b(t)),o=[],s=0;r.length>s;)!i(B,e=r[s++])||n&&!i(G,e)||o.push(B[e]);return o};H||(u((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(F,n),i(this,k)&&i(this[k],t)&&(this[k][t]=!1),W(this,t,S(1,n))};return o&&V&&W(G,t,{configurable:!0,set:e}),q(t)}).prototype,"toString",(function(){return this._k})),O.f=J,w.f=Q,n(87).f=D.f=X,n(39).f=$,T.f=tt,o&&!n(25)&&u(G,"propertyIsEnumerable",$,!0),d.f=function(t){return q(p(t))}),s(s.G+s.W+s.F*!H,{Symbol:x});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var rt=R(p.store),it=0;rt.length>it;)v(rt[it++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return i(U,t+="")?U[t]:U[t]=x(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in U)if(U[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!H,"Object",{create:function(t,e){return void 0===e?P(t):Z(P(t),e)},defineProperty:Q,defineProperties:Z,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:tt});var ot=c((function(){T.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return T.f(m(t))}}),L&&s(s.S+s.F*(!H||c((function(){var t=x();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(g(e)||void 0!==t)&&!z(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),r[1]=e,N.apply(L,r)}}),x.prototype[j]||n(11)(x.prototype,j,x.prototype.valueOf),l(x,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r=n(23),i=n(58),o=n(39);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,u=n(t),a=o.f,c=0;u.length>c;)a.call(t,s=u[c++])&&e.push(s);return e}},function(t,e,n){var r=n(14),i=n(87).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){n(60)("asyncIterator")},function(t,e,n){n(60)("observable")},function(t,e,n){t.exports={default:n(138),__esModule:!0}},function(t,e,n){n(139);var r=n(0).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(14),i=n(61).f;n(35)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},function(t,e,n){t.exports={default:n(141),__esModule:!0}},function(t,e,n){n(142),t.exports=n(0).Object.setPrototypeOf},function(t,e,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(143).set})},function(t,e,n){var r=n(4),i=n(7),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(9)(Function.call,n(61).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(145),__esModule:!0}},function(t,e,n){n(146);var r=n(0).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(2);r(r.S,"Object",{create:n(36)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(28)),i=d(n(83)),o=d(n(19)),s=d(n(88)),u=d(n(8)),a=d(n(10)),c=d(n(90)),f=d(n(91)),l=d(n(97)),h=d(n(98)),p=d(n(40));function d(t){return t&&t.__esModule?t:{default:t}}var v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.default)(this,t),this._eventBusKey="embed-event-bus",this._eventBus=c.default.getInstanceByKey(this._eventBusKey),this._events=(new h.default).events,this._players=new s.default,this._activePlayers=[],this._Player=f.default,this._Account=l.default,this._environment=e.environment,this._tracking=e.tracking||{}}return(0,a.default)(t,[{key:"getPlayer",value:function(t){var e=this.players.get(t);if(!e)throw new Error("player: "+t+" : does not exist.");return e}},{key:"createPlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.default)(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.players.get(t))throw new Error("A player with id: "+t+" already exists!");e.eventBus=this.eventBus,e.environment=this.environment,e.events=this.events,e.tracking=(0,o.default)({},this.tracking,e.tracking),e.selector=t;var n=(0,i.default)(new this._Player(e));return this.players.set(n.selector,n),r.default.resolve(n.selector)}},{key:"deletePlayer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.default)();return this.getPlayer(e).delete().then((function(){return t.players.delete(e),r.default.resolve(e)}))}},{key:"pausePlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.default)();return this.getPlayer(t).pause()}},{key:"playPlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.default)();return this.getPlayer(t).play()}},{key:"mutePlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.default)();return this.getPlayer(t).mute()}},{key:"unmutePlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.default)();return this.getPlayer(t).unmute()}},{key:"insertPlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.default)();return this.getPlayer(t).insert()}},{key:"getPlayerConfigs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.default;return this.getPlayer(t).getConfigs()}},{key:"updatePlayerConfigs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.default,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getPlayer(t).updateConfigs(e)}},{key:"eventBusKey",get:function(){return this._eventBusKey}},{key:"players",get:function(){return this._players}},{key:"activePlayers",get:function(){return this._activePlayers}},{key:"eventBus",get:function(){return this._eventBus}},{key:"events",get:function(){return this._events}},{key:"environment",get:function(){return this._environment}},{key:"tracking",get:function(){return this._tracking}}]),t}();e.default=v,t.exports=e.default},function(t,e,n){n(52),n(17),n(30),n(149),n(155),n(158),n(160),t.exports=n(0).Map},function(t,e,n){"use strict";var r=n(150),i=n(89);t.exports=n(151)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(5).f,i=n(36),o=n(57),s=n(9),u=n(54),a=n(31),c=n(53),f=n(74),l=n(81),h=n(6),p=n(38).fastKey,d=n(89),v=h?"_s":"size",_=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var f=t((function(t,r){u(t,f,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,null!=r&&a(r,n,t[c],t)}));return o(f.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=d(this,e),r=_(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){d(this,e);for(var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!_(d(this,e),t)}}),h&&r(f.prototype,"size",{get:function(){return d(this,e)[v]}}),f},def:function(t,e,n){var r,i,o=_(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:_,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=d(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?f(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,f(1))}),n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(38),s=n(15),u=n(11),a=n(57),c=n(31),f=n(54),l=n(4),h=n(29),p=n(5).f,d=n(152)(0),v=n(6);t.exports=function(t,e,n,_,y,E){var g=r[t],m=g,b=y?"set":"add",A=m&&m.prototype,S={};return v&&"function"==typeof m&&(E||A.forEach&&!s((function(){(new m).entries().next()})))?(m=e((function(e,n){f(e,m,t,"_c"),e._c=new g,null!=n&&c(n,y,e[b],e)})),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var e="add"==t||"set"==t;!(t in A)||E&&"clear"==t||u(m.prototype,t,(function(n,r){if(f(this,m,t),!e&&E&&!l(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i}))})),E||p(m.prototype,"size",{get:function(){return this._c.size}})):(m=_.getConstructor(e,t,y,b),a(m.prototype,n),o.NEED=!0),h(m,t),S[t]=m,i(i.G+i.W+i.F,S),E||_.setStrong(m,t,y),m}},function(t,e,n){var r=n(9),i=n(45),o=n(12),s=n(33),u=n(153);t.exports=function(t,e){var n=1==t,a=2==t,c=3==t,f=4==t,l=6==t,h=5==t||l,p=e||u;return function(e,u,d){for(var v,_,y=o(e),E=i(y),g=r(u,d,3),m=s(E.length),b=0,A=n?p(e,m):a?p(e,0):void 0;m>b;b++)if((h||b in E)&&(_=g(v=E[b],b,y),t))if(n)A[b]=_;else if(_)switch(t){case 3:return!0;case 5:return v;case 6:return b;case 2:A.push(v)}else if(f)return!1;return l?-1:c||f?f:A}}},function(t,e,n){var r=n(154);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(4),i=n(86),o=n(3)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(2);r(r.P+r.R,"Map",{toJSON:n(156)("Map")})},function(t,e,n){var r=n(37),i=n(157);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(31);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){n(159)("Map")},function(t,e,n){"use strict";var r=n(2);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(161)("Map")},function(t,e,n){"use strict";var r=n(2),i=n(26),o=n(9),s=n(31);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,u,a=arguments[1];return i(this),(e=void 0!==a)&&i(a),null==t?new this:(n=[],e?(r=0,u=o(a,arguments[2],2),s(t,!1,(function(t){n.push(u(t,r++))}))):s(t,!1,n.push,n),new this(n))}})}},function(t,e,n){(function(r){var i;!function(r){"undefined"!=typeof window&&window;void 0===(i=function(t,e,r){return function(t,e,n,r){function i(t){var e;return t&&t.postMessage?e=t:t instanceof Node&&(e=t.window||t.contentWindow),e}function o(t){var i,o=t||this;if(t)for(i in s)t[i]=this[i].bind(this);var u=this.switchboard=new e,a=this.hub=u.port1,c=(this.dock=u.port2,a=this.hub,this.topics={}),f=(new e).port1;(this.allTopicsRepeater=new n("*",f)).addConsumer(this,(function(t,e){n.publishTopic(c["*"],t,e.originalType)}),!1,{}),this.channelBroker=new r(this.dock,this),o.on=o.addListener=function(t,e){n.addTopicListener(this,a,c,t,e,!1)},o.off=o.removeListener=function(t,e){n.removeTopicListener(this,c,t,e)},o.one=o.once=function(t,e){n.addTopicListener(this,a,c,t,e,!0)}}var s=o.prototype={publish:function(t,e,r){var i=n.publishTopic(this.topics[t],e);return n.publishTopic(this.allTopicsRepeater,e,t),!0!==r&&this.channelBroker.publish(t,e),i},publishChannel:function(t,e){return this.channelBroker.publish(t,e)},removeAllListeners:function(t){var e,r=this.topics;if(t)n.removeAllTopicListeners(r,t);else for(e in r)n.removeAllTopicListeners(r,e)},getTopics:function(t){return this.topics},hasListeners:function(t){var e=this.topics[t];return!(!t||!e)&&!!e.consumerCount},openChannel:function(t,e,n){var r=i(t),o=e||"global";return!(!r||!r.postMessage)&&this.channelBroker.connect(r,o,n)},closeChannel:function(t,e){var n=i(t),r=e||"global";return!(!n||!n.postMessage)&&(this.channelBroker.disconnect(n,r),!0)}},u=function(t){var e=new o(t);return e.sharedMessageService=a,t||e},a=u();return a.sharedMessageService=a,a.bind=function(t){if(!t)throw new Error("Binding object not specified");return u(t)},a.create=u,a}(0,n(62),n(63),n(163))}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(22))},function(t,e,n){(function(r){var i;void 0===(i=function(t,e,r){return function(t,e,n){"undefined"!=typeof window&&window;var r=t.events.CHANNELMESSAGE_REPEATER;function i(t){return!(!t.target||t.target!==this||(t.disconnect(),0))}function o(t,n){this.hub=t,this.topics=n.topics,this.messageService=n,null===t&&(this.isMessageChannel=!1,this.hub=(new e).port1),this.channelTopics={},this.channels={}}return o.prototype={isMessageChannel:!0,publish:function(t,e){var i=n.createEvent(r);i.data={topic:t,msg:e},this.hub.dispatchEvent(i)},connect:function(e,n,r){var i=this.channels,o=i[n]||(i[n]=[]),s=new t(e,n,r,this);return!!s.connect()&&(o.push(s),s)},disconnect:function(t,e){var n=this.channels[e];n&&n.length&&openChannels.some(i,t)}},o}(n(164),n(62),n(63))}.call(e,n,e,t))||(t.exports=i)}).call(this,n(22))},function(t,e,n){(function(r){var i;void 0===(i=function(t,e,i){return function(t,e){var n="undefined"!=typeof window?window:void 0!==r?r:this,i="MessageService::channel";function o(t,e,n,r){var i=this;this.target=t,this.handshake=e,this.initData=n,this.initDataFromTarget=null,this.hub=r.hub,this.messageService=r.messageService,this.topics=r.topics,this.channelTopics=r.channelTopics,this.status="pending",this.isMessageChannel=r.isMessageChannel,this.handshakeMessageCallback=function(t){i.handshakeMessage(t)},this.channelRepeaterCallback=function(t){i.channelRepeater(t)},this.channelConfirmationCallback=function(t){i.channelConfirmation(t)}}return o.events={CHANNELMESSAGE:i,CHANNELMESSAGE_REPEATER:"MessageService::channel::repeater",CHANNELMESSAGE_READY:"channel::ready",CHANNELMESSAGE_ERROR:"channel::error",CHANNELMESSAGE_COMPLETE:"MessageService::channel::complete",CHANNELMESSAGE_DISCONNECT:"MessageService::channel::disconnect",CHANNELMESSAGE_CLOSED:"channel::closed"},o.prototype={publish:function(t,e){this.repeatToChannel({topic:t,msg:e})},acceptInvitation:function(r,o){if(this.target&&this.handshake&&this.isMessageChannel){this.topics;var s,u=this.target;if(!r){var a=new t;r=a.port1,s=a.port2,this.initDataFromTarget=o}r.start(),this.port=r,r.addEventListener("message",this.channelRepeaterCallback,!1),e.addTopicListener(this,this.hub,this.channelTopics,"MessageService::channel::repeater",this.repeatToChannel,!1),s?(r.addEventListener("message",this.channelConfirmationCallback,!1),u.postMessage({type:i,handshake:this.handshake,initData:this.initData},"*",[s])):(this.status="ready",n.removeEventListener("message",this.handshakeMessage,!1),r.postMessage({type:"MessageService::channel::complete",handshake:this.handshake}),this.messageService.publish("channel::ready",{id:this.handshake,data:o},!0))}},handshakeMessage:function(t){var n=this.handshakeListener(this.target,t);if(n)if(n===i)this.acceptInvitation(t.ports&&t.ports[0],t.data&&t.data.initData);else if("MessageService::channel::repeater"===n){var r=t.data;r&&r.topic&&r.hasOwnProperty("msg")&&e.publishTopic(this.topics[r.topic],r.msg)}},channelRepeater:function(t){var n=t.data;n&&n.topic&&n.hasOwnProperty("msg")?e.publishTopic(this.topics[n.topic],n.msg):"MessageService::channel::disconnect"===this.handshakeListener(this.port,t)&&this.disconnect()},repeatToChannel:function(t,e){var n=this.target,r=this.port;n&&!0!==n.closed?t&&t.topic&&t.hasOwnProperty("msg")&&r.postMessage({topic:t.topic,msg:t.msg}):this.disconnect()},channelConfirmation:function(t){"MessageService::channel::complete"===this.handshakeListener(this.port,t)&&(n.removeEventListener("message",this.handshakeMessageCallback,!1),this.port.removeEventListener("message",this.channelConfirmationCallback,!1),this.status="ready",this.messageService.publish("channel::ready",{id:this.handshake,data:this.initDataFromTarget},!0))},connect:function(){var t,e=!0;this.target,n.addEventListener("message",this.handshakeMessageCallback,!1);try{this.target.postMessage({type:i,handshake:this.handshake,initData:this.initData},"*")}catch(t){e=!1,channelError=t}finally{e||(this.disconnect(),this.messageService.publish("channel::error",{id:this.handshake,data:channelError},!0))}return e},disconnect:function(){var t=this.port;n.removeEventListener("message",this.handshakeMessageCallback,!1),e.removeTopicListener(this,this.channelTopics,"MessageService::channel::repeater",this.repeatToChannel),this.status="closed",t&&(t.removeEventListener("message",this.channelRepeaterCallback,!1),t.postMessage({type:"MessageService::channel::disconnect",handshake:this.handshake}),t.close()),this.messageService.publish("channel::closed",{id:this.handshake,data:this},!0)},handshakeListener:function(t,e){var n=e.data,r=this.handshake;return!(!n||n.type!==i&&"MessageService::channel::repeater"!==n.type&&"MessageService::channel::complete"!==n.type&&"MessageService::channel::disconnect"!==n.type||r!==n.handshake||t!==(e.source||e.srcElement))&&n.type}},o}(n(62),n(63))}.call(e,n,e,t))||(t.exports=i)}).call(this,n(22))},function(t,e,n){var r=n(166),i=n(205);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(65),i=n(167),o=n(172),s=n(202);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(s(t))}},function(t,e,n){var r=n(65),i=n(66),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(s.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(22))},function(t,e,n){var r=n(67),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[u]=n:delete t[u]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(173),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=s},function(t,e,n){var r=n(174);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(175);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(176),i=n(197),o=n(199),s=n(200),u=n(201);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=i,a.prototype.get=o,a.prototype.has=s,a.prototype.set=u,t.exports=a},function(t,e,n){var r=n(177),i=n(189),o=n(196);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(178),i=n(185),o=n(186),s=n(187),u=n(188);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=i,a.prototype.get=o,a.prototype.has=s,a.prototype.set=u,t.exports=a},function(t,e,n){var r=n(41);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(180),i=n(181),o=n(95),s=n(183),u=/^\[object .+?Constructor\]$/,a=Function.prototype,c=Object.prototype,f=a.toString,l=c.hasOwnProperty,h=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:u).test(s(t))}},function(t,e,n){var r=n(93),i=n(95);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r,i=n(182),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(68)["__core-js_shared__"];t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(41),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(41),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(41);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(190),i=n(191),o=n(193),s=n(194),u=n(195);function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=i,a.prototype.get=o,a.prototype.has=s,a.prototype.set=u,t.exports=a},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(42),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(42);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(42);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(42);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(94)(n(68),"Map");t.exports=r},function(t,e,n){var r=n(43);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(43);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(43);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(43);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(203);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(67),i=n(204),o=n(65),s=n(66),u=r?r.prototype:void 0,a=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(s(e))return a?a.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(66);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(84),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(208)),i=o(n(211));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,o=!1,s=void 0;try{for(var u,a=(0,i.default)(t);!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,s=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){t.exports={default:n(209),__esModule:!0}},function(t,e,n){n(30),n(17),t.exports=n(210)},function(t,e,n){var r=n(37),i=n(3)("iterator"),o=n(18);t.exports=n(0).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){t.exports={default:n(212),__esModule:!0}},function(t,e,n){n(30),n(17),t.exports=n(213)},function(t,e,n){var r=n(7),i=n(55);t.exports=n(0).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){t.exports={default:n(215),__esModule:!0}},function(t,e,n){n(17),n(216),t.exports=n(0).Array.from},function(t,e,n){"use strict";var r=n(9),i=n(2),o=n(12),s=n(75),u=n(76),a=n(33),c=n(217),f=n(55);i(i.S+i.F*!n(82)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,l,h=o(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,_=void 0!==v,y=0,E=f(h);if(_&&(v=r(v,d>2?arguments[2]:void 0,2)),null==E||p==Array&&u(E))for(n=new p(e=a(h.length));e>y;y++)c(n,y,_?v(h[y],y):h[y]);else for(l=E.call(h),n=new p;!(i=l.next()).done;y++)c(n,y,_?s(l,v,[i.value,y],!0):i.value);return n.length=y,n}})},function(t,e,n){"use strict";var r=n(5),i=n(27);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(16)),i=u(n(8)),o=u(n(20)),s=u(n(21));function u(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(){(0,i.default)(this,e);var t=(0,o.default)(this,(e.__proto__||(0,r.default)(e)).call(this));return t._events.set("SYNDICATED_PLAYER_LOAD_MEDIA","__syndicated_player_load_new_media"),t._events.set("SYNDICATED_PLAYER_CHANGE_FEED","__syndicated_player_change_feed"),t._events.set("SYNDICATED_PLAYER_DEACTIVATE_PLAYER","__syndicated_player_deactivate_player"),t._events.set("SYNDICATED_PLAYER_DESTROY_PLAYER","__syndicated_player_destroy_player"),t._events.set("MEDIA_LOADED","__media_app_media_loaded"),t._events.set("FEED_CHANGED","__media_app_feed_changed"),t._events.set("FEED_CHANGE_REQUEST","__media_app_feed_change_request"),t._events.set("PLAYBACK_ERROR","__media_app_playback_error"),t._events.set("DEACTIVATE_PLAYER","__media_app_deactivate_player"),t._events.set("APPLICATION_STARTUP","__media_app_application_startup"),t._events.set("SETTINGS_CHANGED","__media_app_settings_changed"),t._events.set("REPLAY_REQUESTED","__media_app_replay_requested"),t._events.set("PLAYBACK_INITIALIZED","__media_app_playback_initialized"),t._events.set("AUTHORIZE_USER","__basesite_authorize_user"),t._events.set("GEOLOCATION_READY","__basesite_geolocation_ready"),t._events.set("SUBSCRIPTIONS_READY","__basesite_subscriptions_ready"),t._events.set("SESSIONTOKEN_READY","__basesite_sessiontoken_ready"),t._events.set("SESSIONINFO_READY","__basesite_sessioninfo_ready"),t._events.set("LOGIN_REQUESTED","__basesite_login_requested"),t._events.set("URL_REDIRECT","__basesite_url_redirect"),t._events.set("SEND_CONTENT_REWARD","__basesite_send_content_reward"),t._events.set("CONTENT_REWARD_RECORDED","__basesite_content_reward_recorded"),t._events.set("USER_TRACKING_INFORMATION_READY","__basesite_user_tracking_information_ready"),t._events.set("PLAYER_VOLUME_LEVEL_CHANGED","__syndicated_player_volume_changed"),t._events.set("SDK_ACCESS_CHANGE","__basesite_sdk_access_changed"),t._events.set("USER_ACCOUNT_REQUEST","__sdk_data_user_account_request"),t._events.set("USER_ACCOUNT_RECEIVED","__sdk_data_user_account_received"),t._events.set("MEDIA_START","__syndicated_media_start"),t._events.set("MEDIA_PLAY","__syndicated_media_play"),t._events.set("MEDIA_PAUSE","__syndicated_media_pause"),t._events.set("MEDIA_ENDED","__syndicated_media_ended"),t._events.set("MEDIA_DISPOSE","__syndicated_media_dispose"),t._events.set("MEDIA_SEEKING","__syndicated_media_seeking"),t._events.set("MEDIA_SEEKED","__syndicated_media_seeked"),t._events.set("MEDIA_TIMEUPDATE","__syndicated_media_timeupdate"),t}return(0,s.default)(e,t),e}(u(n(98)).default);e.default=a,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(28)),i=v(n(19)),o=v(n(16)),s=v(n(8)),u=v(n(10)),a=v(n(20)),c=v(n(32)),f=v(n(21)),l=v(n(91)),h=n(40),p=v(n(64)),d=n(99);function v(t){return t&&t.__esModule?t:{default:t}}function _(t,e,n){e.dispatcher.publish(e.events.get(t),n)}function y(t,e,n,r){r.dispatcher.one(r.events.get(n),(function(i){r.eventBus.publish(r.events.get(n),i),i.success?t(i):e(i)})),r.node.style.visibility="visible"}function E(t){t.node.style.visibility="hidden"}var g=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e);var n=(0,a.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.setBaseUrl(t),n.node=document.querySelector(n.selector),n.testOptions(),n.initListeners(),n}return(0,f.default)(e,t),(0,u.default)(e,[{key:"setBaseUrl",value:function(t){var e=t.environment||"qa",n=(0,p.default)(t,"language.ui","en");this.baseUrl="https://"+{dev:"local.web.plus.espn.com:3000",qa:"qa.web.plus.espn.com",beta:"beta.web.plus.espn.com",prod:"plus.espn.com"}[e]+"/"+n+"/video-hudson?",(0,p.default)(t,"customProps.pageApiMeta.imageHref")&&(this.baseUrl+="&poster="+encodeURIComponent(t.customProps.pageApiMeta.imageHref)),(0,p.default)(t,"customProps.sdkConfigHostName")&&(this.baseUrl+="&sdkConfigHostName="+t.customProps.sdkConfigHostName)}},{key:"initListeners",value:function(){var t=this;this.dispatcher.on(this.events.get("EMBED_PLAYER_READY"),(function(){t.eventBus.publish(t.events.get("EMBED_PLAYER_READY"),t.selector)})),this.dispatcher.on(this.events.get("GEOLOCATION_READY"),(function(e){t.eventBus.publish(t.events.get("GEOLOCATION_READY"),e)})),this.dispatcher.on(this.events.get("AUTHORIZE_USER"),(function(e){t.eventBus.publish(t.events.get("AUTHORIZE_USER"),e)})),this.dispatcher.on(this.events.get("PLAYBACK_ERROR"),(function(e){t.eventBus.publish(t.events.get("PLAYBACK_ERROR"),e)})),this.dispatcher.on(this.events.get("FEED_CHANGE_REQUEST"),(function(e){t.eventBus.publish(t.events.get("FEED_CHANGE_REQUEST"),e)})),this.dispatcher.on(this.events.get("APPLICATION_STARTUP"),(function(e){t.eventBus.publish(t.events.get("APPLICATION_STARTUP"),e)})),this.dispatcher.one(this.events.get("MEDIA_LOADED"),(function(e){t.eventBus.publish(t.events.get("MEDIA_LOADED"),e)})),this.dispatcher.on(this.events.get("PLAYBACK_INITIALIZED"),(function(e){t.eventBus.publish(t.events.get("PLAYBACK_INITIALIZED"),e)})),this.dispatcher.on(this.events.get("SETTINGS_CHANGED"),(function(e){t.eventBus.publish(t.events.get("SETTINGS_CHANGED"),e)})),this.dispatcher.on(this.events.get("REPLAY_REQUESTED"),(function(e){t.eventBus.publish(t.events.get("REPLAY_REQUESTED"),e)})),this.dispatcher.on(this.events.get("PLAYER_VOLUME_LEVEL_CHANGED"),(function(e){t.eventBus.publish(t.events.get("PLAYER_VOLUME_LEVEL_CHANGED"),e)})),this.dispatcher.on(this.events.get("MEDIA_START"),(function(e){t.eventBus.publish(t.events.get("MEDIA_START"),e)})),this.dispatcher.on(this.events.get("MEDIA_PLAY"),(function(e){t.eventBus.publish(t.events.get("MEDIA_PLAY"),e)})),this.dispatcher.on(this.events.get("MEDIA_PAUSE"),(function(e){t.eventBus.publish(t.events.get("MEDIA_PAUSE"),e)})),this.dispatcher.on(this.events.get("MEDIA_ENDED"),(function(e){t.eventBus.publish(t.events.get("MEDIA_ENDED"),e)})),this.dispatcher.on(this.events.get("MEDIA_DISPOSE"),(function(e){t.eventBus.publish(t.events.get("MEDIA_DISPOSE"),e)})),this.dispatcher.on(this.events.get("MEDIA_SEEKING"),(function(e){t.eventBus.publish(t.events.get("MEDIA_SEEKING"),e)})),this.dispatcher.on(this.events.get("MEDIA_SEEKED"),(function(e){t.eventBus.publish(t.events.get("MEDIA_SEEKED"),e)})),this.dispatcher.on(this.events.get("MEDIA_TIMEUPDATE"),(function(e){t.eventBus.publish(t.events.get("MEDIA_TIMEUPDATE"),e)}))}},{key:"hidePlayer",value:function(){this.node.style.visibility="hidden"}},{key:"loadMedia",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.playlist;(0,d.warnOnMissingShareUrl)(n);var o=(0,i.default)({playlist:n},e.customProps);return new r.default((function(e,n){y(e,n,"MEDIA_LOADED",t),_("SYNDICATED_PLAYER_LOAD_MEDIA",t,o)})).catch((function(e){return(0,h.logError)("Syndicated Player Error :: loadMedia :: player["+t.selector+"]",e),r.default.reject(t.selector)}))}},{key:"changeFeed",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,i.default)({},e.customProps);return new r.default((function(e,r){y(e,r,"MEDIA_LOADED",t),_("SYNDICATED_PLAYER_CHANGE_FEED",t,n)})).catch((function(e){(0,h.logError)("Syndicated Player Error :: changeFeed :: player["+t.selector+"]",e)}))}},{key:"insert",value:function(){var t=this;return(0,c.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"insert",this).call(this).then((function(e){var n=t.container.getElementsByClassName("embed-player__iframe")[0],r=t.baseUrl.split("?")[0],i=n.getAttribute("allow");return n.setAttribute("allow",i+"; encrypted-media "+r),e}))}},{key:"deactivatePlayer",value:function(){var t=this;return new r.default((function(e,n){t.dispatcher.one(t.events.get("DEACTIVATE_PLAYER"),(function(r){t.eventBus.publish(t.events.get("DEACTIVATE_PLAYER"),r),r.success?e(r):n(r)})),_("SYNDICATED_PLAYER_DEACTIVATE_PLAYER",t),E(t)})).catch((function(e){(0,h.logError)("Syndicated Player Error :: deactivatePlayer :: player["+t.selector+"]",e)}))}},{key:"destroyPlayer",value:function(){var t=this;return new r.default((function(e,n){t.dispatcher.one(t.events.get("DESTROY_PLAYER"),(function(r){t.eventBus.publish(t.events.get("DESTROY_PLAYER"),r),r&&r.success?e(r):n(r)})),_("SYNDICATED_PLAYER_DESTROY_PLAYER",t),E(t)})).catch((function(e){(0,h.logError)("Syndicated Player Error :: destroyPlayer :: player["+t.selector+"]",e)}))}}]),e}(l.default);e.default=g,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(16)),i=l(n(8)),o=l(n(10)),s=l(n(20)),u=l(n(32)),a=l(n(21)),c=l(n(97)),f=l(n(64));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e);var n=(0,s.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.showLogs=!0,n.setBaseUrl(t),n.testOptions(),n.initListeners(),n}return(0,a.default)(e,t),(0,o.default)(e,[{key:"setSection",value:function(t){if("sdkData"===t.section)this.section="sdk-data";else{if("paywall"!==t.section)throw new Error("iframe section was not defined.");this.section="paywall"}}},{key:"setBaseUrl",value:function(t){var e=t.environment||"qa",n=(0,f.default)(t,"language.ui","en");this.setSection(t),this.baseUrl="https://"+{dev:"local.web.plus.espn.com:3000",qa:"qa.web.plus.espn.com",beta:"beta.web.plus.espn.com",prod:"plus.espn.com"}[e]+"/"+n+"/"+this.section,this.baseUrl+=t.path}},{key:"testOptions",value:function(){(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"testOptions",this).call(this)}},{key:"initListeners",value:function(){var t=this;(0,u.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"initListeners",this).call(this),this.dispatcher.on(this.events.get("LOGIN_REQUIRED"),(function(e){t.eventBus.publish(t.events.get("LOGIN_REQUIRED"),e)})),this.dispatcher.on(this.events.get("MVPD_LOGIN_REQUESTED"),(function(e){t.eventBus.publish(t.events.get("MVPD_LOGIN_REQUESTED"),e),t.delete()})),this.dispatcher.on(this.events.get("SESSIONTOKEN_READY"),(function(e){t.eventBus.publish(t.events.get("SESSIONTOKEN_READY"),e)})),this.dispatcher.on(this.events.get("SESSIONINFO_READY"),(function(e){t.eventBus.publish(t.events.get("SESSIONINFO_READY"),e)})),this.dispatcher.on(this.events.get("SDK_ACCESS_CHANGE"),(function(e){t.eventBus.publish(t.events.get("SDK_ACCESS_CHANGE"),e)})),this.dispatcher.on(this.events.get("USER_TRACKING_INFORMATION_READY"),(function(e){t.eventBus.publish(t.events.get("USER_TRACKING_INFORMATION_READY"),e)})),this.dispatcher.on(this.events.get("SEND_CONTENT_REWARD"),(function(e){t.eventBus.publish(t.events.get("SEND_CONTENT_REWARD"),e)})),this.dispatcher.on(this.events.get("CONTENT_REWARD_RECORDED"),(function(e){t.eventBus.publish(t.events.get("CONTENT_REWARD_RECORDED"),e)})),this.dispatcher.on(this.events.get("USER_ACCOUNT_REQUEST"),(function(e){t.eventBus.publish(t.events.get("USER_ACCOUNT_REQUEST"),e)})),this.dispatcher.on(this.events.get("USER_ACCOUNT_RECEIVED"),(function(e){t.eventBus.publish(t.events.get("USER_ACCOUNT_RECEIVED"),e)}))}}]),e}(c.default);e.default=h,t.exports=e.default}])}));